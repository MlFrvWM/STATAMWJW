local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local viewTab = mainWindow:AddTab("View Status")
local statusLabels = {}

local function addStatusLabel(tab, labelName)
    local label = tab:AddLabel(labelName .. ": carregando...")
    statusLabels[labelName] = label
end

local dropdownData, dropdown = viewTab:AddDropdown("Select Player", function(selectedPlayerName)
    local selectedPlayer = Players:FindFirstChild(selectedPlayerName)
    if selectedPlayer and selectedPlayer:FindFirstChild("leaderstats") then
        local stats = selectedPlayer.leaderstats
        local function getStat(name)
            local stat = stats:FindFirstChild(name)
            return stat and stat.Value or 0
        end

        local function getPetBoost()
            return 0
        end

        local function getTotalDurability()
            return getStat("Durability") + getStat("Ultimate Boost") + getPetBoost()
        end

        statusLabels["Displayname"].Text = "Displayname: " .. selectedPlayer.DisplayName
        statusLabels["Username"].Text = "Username: " .. selectedPlayer.Name
        statusLabels["Strength"].Text = "Strength: " .. getStat("Strength")
        statusLabels["Durability"].Text = "Durability: " .. getStat("Durability")
        statusLabels["Agility"].Text = "Agility: " .. getStat("Agility")
        statusLabels["Rebirths"].Text = "Rebirths: " .. getStat("Rebirths")
        statusLabels["Kills"].Text = "Kills: " .. getStat("Kills")
        statusLabels["Base Durability"].Text = "Base Durability: " .. getStat("Durability")
        statusLabels["Ultimate Boost"].Text = "Ultimate Boost: " .. getStat("Ultimate Boost") .. " (+0%)"
        statusLabels["Pet Boost"].Text = "Pet Boost: " .. getPetBoost() .. " (+0%)"
        statusLabels["TOTAL DURABILITY"].Text = "TOTAL DURABILITY: " .. getTotalDurability()
        statusLabels["Your Base Damage"].Text = "Your Base Damage: " .. math.floor(getStat("Strength") * 0.25)
        statusLabels["With Your Pets"].Text = "With Your Pets (0): " .. math.floor(getStat("Strength") * 0.25)
        statusLabels["Hits to Kill"].Text = "Hits to Kill: N/A"
        statusLabels["Time to Kill"].Text = "Time to Kill: N/A"
    end
end)

for _, player in ipairs(Players:GetPlayers()) do
    dropdownData:Add(player.Name)
end

Players.PlayerAdded:Connect(function(player)
    dropdownData:Add(player.Name)
end)

Players.PlayerRemoving:Connect(function(player)
    dropdownData:Add(player.Name)
end)

addStatusLabel(viewTab, "Displayname")
addStatusLabel(viewTab, "Username")
addStatusLabel(viewTab, "Strength")
addStatusLabel(viewTab, "Durability")
addStatusLabel(viewTab, "Agility")
addStatusLabel(viewTab, "Rebirths")
addStatusLabel(viewTab, "Kills")

viewTab:AddLabel("-------------------------")
viewTab:AddLabel("Advanced Stats")

addStatusLabel(viewTab, "Base Durability")
addStatusLabel(viewTab, "Ultimate Boost")
addStatusLabel(viewTab, "Pet Boost")
addStatusLabel(viewTab, "TOTAL DURABILITY")
addStatusLabel(viewTab, "Your Base Damage")
addStatusLabel(viewTab, "With Your Pets")
addStatusLabel(viewTab, "Hits to Kill")
addStatusLabel(viewTab, "Time to Kill")

viewTab:AddButton("Print Own Stats", function()
    print("DisplayName:", LocalPlayer.DisplayName)
    print("Username:", LocalPlayer.Name)
end)

viewTab:AddSwitch("Spectate", function(value)
    print("Spectate toggled:", value)
end)
